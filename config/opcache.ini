; OpCache Configuration for Library System
; Optimized for production performance

; Enable OpCache
opcache.enable=1
opcache.enable_cli=1

; Memory settings
opcache.memory_consumption=128
opcache.interned_strings_buffer=8
opcache.max_accelerated_files=10000

; Performance settings
opcache.revalidate_freq=2
opcache.validate_timestamps=1
opcache.save_comments=1
opcache.fast_shutdown=1

; Advanced optimizations
opcache.enable_file_override=1
opcache.optimization_level=0x7FFFBFFF
opcache.inherited_hack=1
opcache.dups_fix=1

; File cache for better persistence
opcache.file_cache=/tmp/opcache
opcache.file_cache_only=0
opcache.file_cache_consistency_checks=1

; Logging (disable in production)
opcache.log_verbosity_level=1
opcache.error_log=/var/log/php/opcache.log

; Security
opcache.restrict_api=/workspace

; Preloading (PHP 7.4+)
; opcache.preload=/workspace/config/preload.php
; opcache.preload_user=www-data